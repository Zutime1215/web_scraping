import requests
from bs4 import BeautifulSoup

base_url = "https://members.codewithmosh.com"
cookies = {
    "sk_t22ds596_access": "eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJ1c2VyIiwiaWF0IjoxNzI5MzMxODQxLCJqdGkiOiJjOWMzMDI0ZS0wYzVhLTQyZmItYTEzNy1mNzM2MmU4MzViYzEiLCJpc3MiOiJza190MjJkczU5NiIsInN1YiI6ImQ1ZDhjMDc5LThmNjYtNDU1ZC05ODdkLTFhNGM4NjEzNTFmNCJ9.CAUkHXOYV-nxKUdGr2HUqTTd1mrW-5AxjMIDh-jspwk"
}

links = ["https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914979",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914977",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914978",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914980",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914975",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45914976",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915058",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915059",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915057",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915062",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915063",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915060",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915070",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915090",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/46220929",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915247",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915249",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915255",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915245",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915252",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915246",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915242",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915256",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915248",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915250",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915251",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915254",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915253",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915243",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915345",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915378",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915379",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915384",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915383",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915377",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915385",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915381",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915386",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915380",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915382",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915545",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915733",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915724",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915725",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915732",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915727",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915735",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915731",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915729",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915728",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915730",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915734",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915726",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915736",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915783",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915815",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915807",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915805",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45997671",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915808",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915810",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915813",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915806",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915816",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915804",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915812",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915811",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915809",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915814",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45917480",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915820",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45935048",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915916",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915909",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915913",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915906",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915920",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915911",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915915",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915907",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915908",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915910",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915919",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915904",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915905",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915912",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915914",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915918",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45915917",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916001",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916469",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916503",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916446",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916277",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916282",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916285",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916280",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916283",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916281",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916284",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/47151245",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916276",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916327",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916325",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916330",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916328",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916329",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916331",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916324",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916326",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916332",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916352",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916351",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916359",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916356",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916354",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916360",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916355",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916358",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916357",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916353",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916448",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916445",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916443",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916450",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916442",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916441",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916444",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916440",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916451",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916447",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916468",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916466",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/45916480",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/46680951",
"https://members.codewithmosh.com/courses/ultimate-react-part1-1/lectures/46164184"]

# links = ["https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678341",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678337",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678342",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678339",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678338",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678340",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678343",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678949",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678959",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678935",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678954",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678927",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678947",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678937",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678933",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678932",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678945",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678942",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678929",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678952",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678928",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678956",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678958",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678946",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678940",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678950",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678938",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678939",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678941",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678951",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678948",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678953",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678936",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678934",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678930",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678944",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678955",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678957",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678931",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678943",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46678986",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679164",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679168",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679155",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679154",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679158",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679153",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679156",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679159",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679147",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679162",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679150",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679167",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679161",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679157",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679171",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679148",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679152",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679166",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679165",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679146",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679169",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679160",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679163",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679151",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679149",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679344",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679323",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679335",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679331",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679333",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679343",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679325",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679332",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679327",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679339",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679322",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679340",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679324",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679337",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679326",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679334",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679341",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679342",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679328",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679345",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679338",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679330",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679329",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679847",
# "https://members.codewithmosh.com/courses/ultimate-react-part2-1/lectures/46679336"]


def downloader(name, link, tag):
    response = requests.get(link, cookies=cookies)
    if 'https://cdn.fs' in link:
        name = tag + '_' + name
    else:
        name = name + '_' + tag + '.mp4'
    
    with open(name, 'wb') as f:
        f.write(response.content)
    print(name, ' downloaded')


for link in links:
    tag = link.split('lectures/')[1]
    print('## Link is ',  tag)

    response = requests.get(link, cookies=cookies)
    soup = BeautifulSoup(response.content, features='lxml')
    downloads = soup.findAll('a', attrs = {'class':'download'})
    for href in downloads:
        ref = href['href']
        if 'https://cdn.fs' in ref:
            name = href['data-x-origin-download-name']
            downloader(name, ref, tag)
        else:
            name = ((soup.find('title').text).split('|')[0]).strip()
            downloadable_link = base_url + ref
            downloader(name, downloadable_link, tag)